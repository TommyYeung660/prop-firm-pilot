# é‡åŒ–é …ç›®èˆ‡ Prop Firm å…¨è‡ªå‹• FX äº¤æ˜“æ•´åˆå ±å‘Š (v3)

> **å ±å‘Šæ—¥æœŸ**: 2026-02-16  
> **ç‰ˆæœ¬**: v3 â€” Hybrid EA+LLM æ¶æ§‹å¯¦ä½œé€²åº¦æ›´æ–°  
> **ç›®æ¨™**: å°‡ `qlib_market_scanner`ã€`qlib_rd_agent`ã€`TradingAgents` ä¸‰å€‹ç¾æœ‰é …ç›®æ•´åˆç‚º E8 Markets Prop Firm å¸³è™Ÿä¸Šçš„å…¨è‡ªå‹• FX äº¤æ˜“ç³»çµ±  
> **äº¤æ˜“å¸‚å ´**: FX Only (EURUSD, GBPUSD, USDJPY, AUDUSD, XAUUSD)  
> **åŸ·è¡Œå¹³å°**: MatchTrader REST API  
> **å¸³è™Ÿ**: 950552 (Trial $5,000)

---

## ç›®éŒ„

1. [åŸ·è¡Œæ‘˜è¦](#1-åŸ·è¡Œæ‘˜è¦)
2. [å·²å®Œæˆå·¥ä½œç¸½è¦½](#2-å·²å®Œæˆå·¥ä½œç¸½è¦½)
3. [ç³»çµ±æ¶æ§‹ç¾ç‹€](#3-ç³»çµ±æ¶æ§‹ç¾ç‹€)
4. [ä»£ç¢¼åº«çµ±è¨ˆ](#4-ä»£ç¢¼åº«çµ±è¨ˆ)
5. [Blueprint å°ç…§ â€” å¯¦ä½œå®Œæˆåº¦](#5-blueprint-å°ç…§--å¯¦ä½œå®Œæˆåº¦)
6. [ä¸‰å¤§å¤–éƒ¨é …ç›®æ•´åˆç‹€æ…‹](#6-ä¸‰å¤§å¤–éƒ¨é …ç›®æ•´åˆç‹€æ…‹)
7. [åˆè¦å¼•æ“èˆ‡é¢¨æ§ç³»çµ±](#7-åˆè¦å¼•æ“èˆ‡é¢¨æ§ç³»çµ±)
8. [æ¸¬è©¦è¦†è“‹ç‡](#8-æ¸¬è©¦è¦†è“‹ç‡)
9. [å·®è·åˆ†æ â€” è·é›¢å…¨è‡ªå‹•åŒ–é‚„æœ‰å¤šé ](#9-å·®è·åˆ†æ--è·é›¢å…¨è‡ªå‹•åŒ–é‚„æœ‰å¤šé )
10. [æ›´æ–°è·¯ç·šåœ–](#10-æ›´æ–°è·¯ç·šåœ–)
11. [é¢¨éšªèˆ‡ç·©è§£](#11-é¢¨éšªèˆ‡ç·©è§£)
12. [åƒè€ƒè³‡æ–™](#12-åƒè€ƒè³‡æ–™)

---

## 1. åŸ·è¡Œæ‘˜è¦

**prop-firm-pilot** è‡ª v2 å ±å‘Šä»¥ä¾†å–å¾—äº†é‡å¤§é€²å±•ã€‚ç³»çµ±å·²å¾æ¦‚å¿µé©—è­‰æ¨é€²åˆ°**å¯é‹è¡Œçš„ 24/7 ç•°æ­¥äº¤æ˜“ç®¡ç·š**ï¼š

| æŒ‡æ¨™ | v2 (2026-02-12) | v3 (2026-02-16) | è®ŠåŒ– |
|------|:---:|:---:|:---:|
| æºä»£ç¢¼æ–‡ä»¶ | 19 | 37 | +18 |
| æºä»£ç¢¼è¡Œæ•¸ | ~3,500 | 7,569 | +116% |
| æ¸¬è©¦æ•¸é‡ | 0 | **240** (å…¨éƒ¨é€šé) | +240 |
| æ¸¬è©¦ä»£ç¢¼è¡Œæ•¸ | 0 | 5,037 | +5,037 |
| Blueprint éšæ®µå®Œæˆ | Phase 0 + 1a | Phase 0, 1a, 2A, 2B, 2C, 3+ | +5 éšæ®µ |
| MatchTrader é€£ç·š | å·²é©—è­‰ | å®Œæ•´é–‹å¹³å€‰æµç¨‹å·²é©—è­‰ | ç©©å®š |
| Telegram é€šçŸ¥ | ç„¡ | 15 ç¨®é€šçŸ¥é¡å‹ + Bot å‘½ä»¤ | +15 |
| æ•¸æ“šæŒä¹…åŒ– | ç„¡ | SQLite DecisionStore (841 è¡Œ) | æ–°å¢ |
| æ’ç¨‹å™¨ | ç„¡ | 7 å¾ªç’°ç•°æ­¥æ’ç¨‹å™¨ (566 è¡Œ) | æ–°å¢ |

**æ ¸å¿ƒæˆå°±**: Hybrid EA+LLM æ¶æ§‹è—åœ–ä¸­çš„ Phase 2A è‡³ Phase 3+ å…¨éƒ¨å¯¦ä½œå®Œæˆï¼ŒåŒ…æ‹¬ DecisionStoreã€ExecutionEngineã€Schedulerã€InstrumentRegistryã€Telegram é€šçŸ¥ç³»çµ±ã€Position Monitor å’Œ Daily Summaryã€‚ç³»çµ±å·²å…·å‚™åœ¨ Trial å¸³è™Ÿä¸Šé€²è¡Œç«¯åˆ°ç«¯è‡ªå‹•äº¤æ˜“çš„æ‰€æœ‰åŸºç¤è¨­æ–½ã€‚

---

## 2. å·²å®Œæˆå·¥ä½œç¸½è¦½

### 2.1 Phase 0 â€” åŸºç¤è¨­æ–½ (v1-v2 å·²å®Œæˆ)

| é …ç›® | ç‹€æ…‹ | èªªæ˜ |
|------|:---:|------|
| é …ç›®çµæ§‹å»ºç«‹ | âœ… | pyproject.toml, AGENTS.md, ruff/pytest é…ç½® |
| FX æ•¸æ“šç²å–å™¨ | âœ… | `fx_data_fetcher.py` â€” æ”¯æ´ iTick + TraderMade é›™æ•¸æ“šæºï¼Œasync å¤šå“ç¨®ä¸¦è¡Œ |
| FX â†’ Qlib æ ¼å¼è½‰æ› | âœ… | `fx_to_qlib.py` â€” CSV/DuckDB â†’ Qlib äºŒé€²åˆ¶æ ¼å¼ |
| DuckDB æ•¸æ“šç·©å­˜ | âœ… | `fx_duckdb_store.py` â€” æœ¬åœ° FX åƒ¹æ ¼ç·©å­˜ |
| MatchTrader REST Client | âœ… | `matchtrader_client.py` (743 è¡Œ) â€” JWT é©—è­‰ã€é™é€Ÿã€é‡è©¦ã€å®Œæ•´ CRUD |
| E8 åˆè¦æª¢æŸ¥ | âœ… | `prop_firm_guard.py` (375 è¡Œ) â€” 5 é …åˆè¦æª¢æŸ¥ |

### 2.2 Phase 1a â€” Scanner FX é©é… (v2 å·²å®Œæˆ)

| é …ç›® | ç‹€æ…‹ | èªªæ˜ |
|------|:---:|------|
| `--profile fx` CLI åƒæ•¸ | âœ… | qlib_market_scanner æ”¯æ´ FX æ¨¡å¼ |
| FX æˆæœ¬æ¨¡å‹ | âœ… | `fx_spread_cost_fn` â€” é»å·®æˆæœ¬è¨ˆç®— (å« XAUUSD ç‰¹æ®Šè™•ç†) |
| FX æ—¥æœŸé‚è¼¯ | âœ… | 17:00 ET æ”¶ç›¤æ™‚é–“è­˜åˆ¥ |

### 2.3 Phase 2A â€” åŸºç¤æ¶æ§‹ (v3 æ–°å¢)

| é …ç›® | ç‹€æ…‹ | èªªæ˜ |
|------|:---:|------|
| `TradeIntent` / `DecisionRecord` schemas | âœ… | Pydantic v2 æ¨¡å‹ï¼Œ137 è¡Œ |
| `DecisionStore` (SQLite) | âœ… | 841 è¡Œ â€” WAL æ¨¡å¼ã€å®Œæ•´ CRUDã€ç‹€æ…‹æ©Ÿè½‰æ›ã€Dashboard æŸ¥è©¢ |
| `Janitor` | âœ… | 48 è¡Œ â€” TTL æ¸…ç†éæœŸæ„åœ– |
| Config æ“´å±• | âœ… | `AppConfig` æ–°å¢ scheduler/store/alert å­é…ç½® |

### 2.4 Phase 2B â€” ç•°æ­¥ç®¡ç·š (v3 æ–°å¢)

| é …ç›® | ç‹€æ…‹ | èªªæ˜ |
|------|:---:|------|
| `Scheduler` | âœ… | 566 è¡Œ â€” 7 å€‹ä¸¦ç™¼ async å¾ªç’° (scanner/LLM/execution/janitor/equity/position/summary) |
| `ExecutionEngine` | âœ… | 389 è¡Œ â€” å¾ DecisionStore å–å¾…åŸ·è¡Œæ„åœ– â†’ PropFirmGuard åˆè¦é–˜é–€ â†’ MatchTrader ä¸‹å–® |
| Graceful Shutdown | âœ… | SIGINT/SIGTERM è™•ç†ï¼Œå®‰å…¨åœæ­¢æ‰€æœ‰å¾ªç’° |
| Startup Recovery | âœ… | æ¢å¾©ä¸Šæ¬¡å´©æ½°çš„ stale claims |

### 2.5 Phase 2C â€” åŠ å›º (v3 æ–°å¢)

| é …ç›® | ç‹€æ…‹ | èªªæ˜ |
|------|:---:|------|
| `AlertService` | âœ… | 430 è¡Œ â€” 15 ç¨® Telegram é€šçŸ¥é¡å‹ |
| `TelegramBotHandler` | âœ… | 225 è¡Œ â€” async pollingï¼Œæ”¯æ´ `/profit` `/orders` å‘½ä»¤ |
| `EquityMonitor` | âœ… | 158 è¡Œ â€” å¯¦æ™‚æ·¨å€¼ç›£æ§ï¼Œdrawdown è­¦å ± |
| `TradeJournal` | âœ… | 129 è¡Œ â€” append-only JSONL äº¤æ˜“æ—¥èªŒ |
| Rate Limiter | âœ… | å…§å»ºæ–¼ MatchTraderClientï¼Œ2000 è«‹æ±‚/æ—¥ä¸Šé™ |

### 2.6 Phase 3+ â€” é€²éšåŠŸèƒ½ (v3 æ–°å¢)

| é …ç›® | ç‹€æ…‹ | èªªæ˜ |
|------|:---:|------|
| `InstrumentRegistry` | âœ… | 226 è¡Œ â€” å¾ MatchTrader API å‹•æ…‹ç²å–å“ç¨®åˆ—è¡¨ï¼Œç¬¦è™Ÿæ˜ å°„ (EURUSD â†’ EURUSD.) |
| Symbol Mapping | âœ… | è™•ç† E8 å¸³è™Ÿç‰¹æœ‰çš„ dot-suffix ç¬¦è™Ÿæ ¼å¼ |
| Position Monitor | âœ… | æ•´åˆè‡³ Scheduler â€” æª¢æ¸¬ SL/TP è§¸ç™¼ï¼Œè‡ªå‹•æ›´æ–° DecisionStore ç‹€æ…‹ |
| Daily Summary | âœ… | æ¯æ—¥ UTC æŒ‡å®šæ™‚é–“è‡ªå‹•ç™¼é€äº¤æ˜“æ‘˜è¦åˆ° Telegram |
| `OrderManager` | âœ… | 204 è¡Œ â€” è¨‚å–®ç”Ÿå‘½é€±æœŸç®¡ç† |
| `PositionSizer` | âœ… | 173 è¡Œ â€” é¢¨éšªç™¾åˆ†æ¯”å€‰ä½è¨ˆç®— + éš¨æ©Ÿåç§» |

---

## 3. ç³»çµ±æ¶æ§‹ç¾ç‹€

### 3.1 ä¸‰å±¤ç•°æ­¥æ¶æ§‹ (å·²å¯¦ä½œ)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     STRATEGY LAYER                              â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  Scanner Loop     â”‚         â”‚  LLM Worker(s)        â”‚         â”‚
â”‚  â”‚  (æ¯ 4h é‹è¡Œ)     â”‚ INSERT  â”‚  (æŒçºŒ poll 30s)       â”‚         â”‚
â”‚  â”‚  scanner_bridge â†’ â”‚ â”€â”€â”€â”€â”€â”€â†’ â”‚  agent_bridge â†’        â”‚         â”‚
â”‚  â”‚  TradeIntent      â”‚         â”‚  BUY/SELL/HOLD         â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                           â”‚ UPDATE               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  DECISION STORE (SQLite WAL)                     â”‚
â”‚                                                                 â”‚
â”‚  intents è¡¨ï¼špending â†’ claimed â†’ ready_for_exec â†’ opened/rejectedâ”‚
â”‚  decisions è¡¨ï¼šå®Œæ•´æ±ºç­–è¨˜éŒ„æ­¸æª”                                    â”‚
â”‚  841 è¡Œï¼Œæ”¯æ´ Dashboard æŸ¥è©¢ã€TTL æ¸…ç†                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚ READ
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     EXECUTION LAYER                              â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ExecutionEngineâ”‚â”€â”€â†’â”‚PropFirmGuard â”‚â”€â”€â†’â”‚MatchTraderClient  â”‚   â”‚
â”‚  â”‚  (æ¯ 10s)     â”‚   â”‚ 5 é …åˆè¦æª¢æŸ¥  â”‚   â”‚ JWT + é™é€Ÿ + é‡è©¦  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚InstrumentRegistryâ”‚   â”‚PositionSizerâ”‚   â”‚  OrderManager    â”‚   â”‚
â”‚  â”‚ ç¬¦è™Ÿæ˜ å°„ + é©—è­‰   â”‚   â”‚ é¢¨éšªè¨ˆç®—    â”‚   â”‚  è¨‚å–®ç”Ÿå‘½é€±æœŸ     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     MONITORING LAYER                             â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚EquityMonitor â”‚  â”‚AlertServiceâ”‚  â”‚TradeJournalâ”‚ â”‚TelegramBotâ”‚ â”‚
â”‚  â”‚ 60s æ·¨å€¼ç›£æ§  â”‚  â”‚ 15 é¡é€šçŸ¥   â”‚  â”‚ JSONL æ—¥èªŒ â”‚ â”‚ å‘½ä»¤è™•ç†   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚  â”‚PositionMonitorâ”‚ â”‚ DailySummary â”‚  â† Scheduler çµ±ä¸€ç·¨æ’         â”‚
â”‚  â”‚ SL/TP æª¢æ¸¬    â”‚  â”‚ æ¯æ—¥å ±å‘Š     â”‚                             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 é‹è¡Œæ¨¡å¼

ç³»çµ±æ”¯æ´ä¸‰ç¨®é‹è¡Œæ¨¡å¼ (é€é `main.py` CLI åƒæ•¸åˆ‡æ›):

| æ¨¡å¼ | å‘½ä»¤ | èªªæ˜ |
|------|------|------|
| **Daily Cycle** | `python -m src.main --config config/e8_trial_5k.yaml` | é †åºåŸ·è¡Œ: æƒæ â†’ æ±ºç­– â†’ äº¤æ˜“ (å‘å¾Œå…¼å®¹) |
| **Monitor Only** | `--monitor-only` | åƒ…ç›£æ§ç¾æœ‰æŒå€‰ï¼Œä¸é–‹æ–°å€‰ |
| **Scheduler** | `--scheduler` | **24/7 ç•°æ­¥ç®¡ç·š** â€” 7 å€‹ä¸¦ç™¼å¾ªç’°è‡ªå‹•é‹è¡Œ |

### 3.3 Scheduler ä¸ƒå¾ªç’°æ¶æ§‹

```python
# scheduler.py å•Ÿå‹•çš„ 7 å€‹ä¸¦ç™¼ asyncio ä»»å‹™:
1. scanner_loop()         # æ¯ 4h: é‹è¡Œ qlib_market_scannerï¼Œç”Ÿæˆ TradeIntent
2. llm_worker_loop()      # æŒçºŒ (30s poll): èªé ˜ pending â†’ TradingAgents æ±ºç­–
3. execution_loop()       # æ¯ 10s: å– ready_for_exec â†’ åˆè¦æª¢æŸ¥ â†’ ä¸‹å–®
4. janitor_loop()         # æ¯ 10m: æ¸…ç†éæœŸ/å¡ä½çš„æ„åœ–
5. equity_monitor_loop()  # æ¯ 60s: ç›£æ§æ·¨å€¼å›æ’¤
6. position_monitor_loop()# æ¯ 30s: æª¢æ¸¬ SL/TP è§¸ç™¼
7. daily_summary_loop()   # æ¯æ—¥ UTC æŒ‡å®šæ™‚é–“: ç™¼é€æ—¥çµå ±å‘Šåˆ° Telegram
```

---

## 4. ä»£ç¢¼åº«çµ±è¨ˆ

### 4.1 æºä»£ç¢¼æ–‡ä»¶ (37 files, 7,569 lines)

| æ¨¡çµ„ | æ–‡ä»¶æ•¸ | è¡Œæ•¸ | æœ€å¤§æ–‡ä»¶ |
|------|:---:|:---:|------|
| `src/decision_store/` | 3 | 926 | `sqlite_store.py` (841) |
| `src/execution/` | 5 | 1,735 | `matchtrader_client.py` (743) |
| `src/compliance/` | 4 | 679 | `prop_firm_guard.py` (375) |
| `src/monitor/` | 4 | 942 | `alert_service.py` (430) |
| `src/scheduler/` | 2 | 568 | `scheduler.py` (566) |
| `src/data/` | 3 | 879 | `fx_data_fetcher.py` (412) |
| `src/decision/` | 5 | 677 | `agent_bridge.py` (262) |
| `src/signal/` | 3 | 349 | `scanner_bridge.py` (211) |
| `src/research/` | 2 | 222 | `rdagent_bridge.py` (185) |
| `src/` (æ ¹) | 3 | 802 | `main.py` (522) |
| **åˆè¨ˆ** | **37** | **7,569** | â€” |

### 4.2 é…ç½®æ–‡ä»¶

| æ–‡ä»¶ | è¡Œæ•¸ | ç”¨é€” |
|------|:---:|------|
| `config/default.yaml` | 67 | ç³»çµ±é è¨­å€¼ (å“ç¨®ã€æ•¸æ“šæºã€æ’ç¨‹) |
| `config/e8_trial_5k.yaml` | 64 | Trial $5k å¸³æˆ¶ (ä¿å®ˆé¢¨æ§) |
| `config/e8_signature_50k.yaml` | 57 | Signature $50k å¸³æˆ¶ |

### 4.3 æ–‡æª”

| æ–‡ä»¶ | è¡Œæ•¸ | å…§å®¹ |
|------|:---:|------|
| `docs/Hybrid_EA_LLM_Architecture.md` | 747 | æ¶æ§‹è—åœ– (è‹±æ–‡) |
| `docs/Hybrid_EA_LLM_Architecture_zh-TW.md` | â€” | æ¶æ§‹è—åœ– (ç¹é«”ä¸­æ–‡ç¿»è­¯) |
| `docs/ops_runbook.md` | â€” | é‹ç‡Ÿæ‰‹å†Š |
| `docs/E8_Markets_Analysis_2026.md` | â€” | E8 å¹³å°åˆ†æ |
| `AGENTS.md` | 155 | é–‹ç™¼è¦ç¯„ |

### 4.4 ä»£ç¢¼å“è³ª

- **Linter**: ruff (`E, F, I, N, W, UP` è¦å‰‡)ï¼ŒPhase 2A-3+ ä»£ç¢¼å…¨éƒ¨ clean
- **Formatter**: ruff formatï¼Œline-length=100
- **Type hints**: æ‰€æœ‰å‡½æ•¸ç°½åå®Œæ•´æ¨™è¨»
- **TODO/FIXME/HACK**: æºä»£ç¢¼ä¸­ **é›¶å€‹** å¾…è¾¦æ¨™è¨˜
- **ä¾è³´ç®¡ç†**: uv + pyproject.toml

---

## 5. Blueprint å°ç…§ â€” å¯¦ä½œå®Œæˆåº¦

ä»¥ä¸‹å°ç…§ `docs/Hybrid_EA_LLM_Architecture.md` è—åœ–ä¸­è¦åŠƒçš„æ¯å€‹éšæ®µ:

| éšæ®µ | è—åœ–æè¿° | ç‹€æ…‹ | å‚™è¨» |
|:---:|------|:---:|------|
| **Phase 0** | åŸºç¤è¨­æ–½ (é …ç›®çµæ§‹ã€FX æ•¸æ“šã€MatchTrader Client) | âœ… å®Œæˆ | v1 å·²äº¤ä»˜ |
| **Phase 1a** | qlib_market_scanner FX é©é… | âœ… å®Œæˆ | v2 å·²äº¤ä»˜ |
| **Phase 1b** | ç«¯åˆ°ç«¯ä¿¡è™Ÿé©—è­‰ (Scannerâ†’Pilot æ•´åˆã€Alpha158 FX é©—è­‰) | â³ æœªé–‹å§‹ | ä¸‹ä¸€å„ªå…ˆé … |
| **Phase 2A** | åŸºç¤ (Schemas, DecisionStore, Config æ“´å±•) | âœ… å®Œæˆ | v3 äº¤ä»˜ |
| **Phase 2B** | ç•°æ­¥ç®¡ç·š (Scheduler, ExecutionEngine, Janitor) | âœ… å®Œæˆ | v3 äº¤ä»˜ |
| **Phase 2C** | åŠ å›º (Telegram é€šçŸ¥ã€Graceful Shutdownã€Startup Recovery) | âœ… å®Œæˆ | v3 äº¤ä»˜ |
| **Phase 3+** | é€²éš (InstrumentRegistry, Position Monitor, Daily Summary) | âœ… å®Œæˆ | v3 äº¤ä»˜ |
| **Phase 2 (èˆŠ)** | TradingAgents FX é©é… (æ–°å¢ macro_analyst, å‹•æ…‹ prompt) | âœ… å®Œæˆ | æœ¬æ¬¡æ›´æ–°äº¤ä»˜ |
| **Phase 3 (èˆŠ)** | å› å­é€²åŒ– (qlib_rd_agent FX æ•¸æ“šç®¡é“) | â³ æœªé–‹å§‹ | é€±æœ«é›¢ç·šä»»å‹™ |
| **Phase 4 (èˆŠ)** | å¯¦ç›¤äº¤æ˜“ ($50k å¸³è™Ÿ) | â³ æœªé–‹å§‹ | æœ€çµ‚ç›®æ¨™ |

**å®Œæˆåº¦**: è—åœ– Phase 0 ~ 3+ å…± 7 å€‹éšæ®µï¼Œå·²å®Œæˆ 6 å€‹ (**86%**)ã€‚å‰©é¤˜ Phase 1b ç‚ºéŠœæ¥æ–·é»ã€‚

---

## 6. ä¸‰å¤§å¤–éƒ¨é …ç›®æ•´åˆç‹€æ…‹

### 6.1 qlib_market_scanner

| é …ç›® | ç‹€æ…‹ |
|------|:---:|
| é …ç›®å­˜åœ¨ (`../../qlib_market_scanner/`) | âœ… |
| FX profile (`--profile fx`) å·²å¯¦ä½œ | âœ… |
| `ScannerBridge` æ©‹æ¥ä»£ç¢¼ (211 è¡Œ) | âœ… |
| èª¿ç”¨æ–¹å¼: `uv run python -m src.main --profile fx` | âœ… |
| è¼¸å‡ºè§£æ: `outputs/signals/signals.csv` | âœ… |
| **ç«¯åˆ°ç«¯é©—è­‰** (Scanner å¯¦éš›ç”¢å‡ºä¿¡è™Ÿ â†’ Pilot æ¥æ”¶) | âŒ æœªé©—è­‰ |

**æ•´åˆç¨‹åº¦**: ä»£ç¢¼å±¤é¢å®Œæˆï¼Œä½†å°šæœªé€²è¡Œç«¯åˆ°ç«¯æ•¸æ“šæµé©—è­‰ (Phase 1b)ã€‚

### 6.2 TradingAgents

| é …ç›® | ç‹€æ…‹ |
|------|:---:|
| é …ç›®å­˜åœ¨ (`../../TradingAgents/`) | âœ… |
| `AgentBridge` æ©‹æ¥ä»£ç¢¼ (262 è¡Œ) | âœ… |
| Lazy import `TradingAgentsGraph.propagate()` | âœ… |
| `MockTradingGraph` å›é€€ (éš¨æ©Ÿ BUY/SELL/HOLD) | âœ… |
| FX å°ˆç”¨åˆ†æå¸«é…ç½® (`fx_analyst_config.py`) | âœ… |
| **ç§»é™¤ fundamentals åˆ†æå¸«** | âœ… å·²é…ç½®ç§»é™¤ |
| **æ–°å¢ macro_analyst** | âœ… å®Œæˆ |
| **LLM Prompt FX é©é…** | âœ… å®Œæˆ |

**æ•´åˆç¨‹åº¦**: æ©‹æ¥ä»£ç¢¼èˆ‡ FX é©é…çš†å·²å®Œæˆï¼TradingAgents å·²èƒ½æ ¹æ“š `market_type="fx"` å‹•æ…‹åˆ‡æ› Promptï¼Œä¸¦å¼•å…¥ `macro_analyst` è™•ç†å¤®è¡Œèˆ‡ç¸½ç¶“æ•¸æ“šã€‚`MockTradingGraph` å·²è¢«çœŸå¯¦çš„ LLM æ±ºç­–å¼•æ“å–ä»£ã€‚

### 6.3 qlib_rd_agent

| é …ç›® | ç‹€æ…‹ |
|------|:---:|
| é …ç›®å­˜åœ¨ (`../../qlib_rd_agent/`) | âœ… |
| `RdAgentBridge` æ©‹æ¥ä»£ç¢¼ (185 è¡Œ) | âœ… |
| èª¿ç”¨æ–¹å¼: subprocess | âœ… |
| è¼¸å‡ºè§£æ: `discovered_factors.yaml` | âœ… |
| **FX æ•¸æ“šç®¡é“å»ºç«‹** | âŒ æœªå»ºç«‹ |
| **é¦–æ¬¡ FX å› å­æŒ–æ˜** | âŒ æœªåŸ·è¡Œ |

**æ•´åˆç¨‹åº¦**: æ©‹æ¥ä»£ç¢¼å®Œæˆï¼Œä½† rd_agent æœ¬èº«å°šæœªé…ç½® FX æ•¸æ“šæºã€‚å±¬æ–¼é€±æœ«é›¢ç·šä»»å‹™ï¼Œå„ªå…ˆç´šè¼ƒä½ã€‚

### 6.4 æ•´åˆå±¤ç¸½çµ

```
                    ä»£ç¢¼æ©‹æ¥          FX é©é…          ç«¯åˆ°ç«¯é©—è­‰
Scanner              âœ…                âœ…                âŒ
TradingAgents        âœ…                âœ…                âŒ
qlib_rd_agent        âœ…                âŒ                âŒ
```

**é—œéµæ´å¯Ÿ**: prop-firm-pilot å´çš„æ‰€æœ‰æ©‹æ¥ä»£ç¢¼å‡å·²å®Œæˆã€‚å¤–éƒ¨å°ˆæ¡ˆä¸­ï¼ŒScanner (Phase 1a) èˆ‡ TradingAgents (Phase 2) çš†å·²å®Œæˆ FX é©é…ï¼Œç›®å‰åƒ…å‰© rd_agent çš„å› å­ç®¡ç·šå°šéœ€æ”¹é€ ã€‚

---

## 7. åˆè¦å¼•æ“èˆ‡é¢¨æ§ç³»çµ±

### 7.1 PropFirmGuard â€” 5 é …åˆè¦æª¢æŸ¥

| æª¢æŸ¥é … | è¦å‰‡ | Trial $5k | Signature $50k |
|------|------|:---:|:---:|
| `check_daily_drawdown()` | æ—¥å…§å›æ’¤é™åˆ¶ (Soft Breach) | 2% ($100) | 5% ($2,500) |
| `check_max_drawdown()` | æœ€å¤§å›æ’¤ (Hard Breach â†’ å¸³æˆ¶çµ‚æ­¢) | 4% ($200) | 8% ($4,000) |
| `check_best_day_rule()` | å–®æ—¥ç²åˆ©ä¸Šé™ (40% Rule) | $120/å¤© | $1,600/å¤© |
| `check_position_size()` | å–®ç­†å€‰ä½é¢¨éšªé™åˆ¶ | 0.5%-1% | 1%-2% |
| `check_request_limit()` | API è«‹æ±‚é™åˆ¶ | 2000/æ—¥ | 2000/æ—¥ |

### 7.2 å®‰å…¨è£•åº¦

æ‰€æœ‰é™é¡å‡è¨­æœ‰ **85% æå‰åœæ­¢** æ©Ÿåˆ¶:
- æ—¥å…§å›æ’¤é”é™é¡ 85% â†’ åœæ­¢æ–°é–‹å€‰
- æœ€å¤§å›æ’¤é”é™é¡ 85% â†’ åœæ­¢æ–°é–‹å€‰  
- å–®æ—¥ç²åˆ©é” Best Day é™é¡ 85% â†’ åœæ­¢æ–°é–‹å€‰

### 7.3 åé‡è¤‡ç­–ç•¥æª¢æ¸¬

| æ©Ÿåˆ¶ | èªªæ˜ |
|------|------|
| éš¨æ©Ÿå»¶é² | ä¸‹å–®å‰ 0.5-3.0 ç§’éš¨æ©Ÿç­‰å¾… |
| å€‰ä½åç§» | æ¯ç­†è¨‚å–® Â±10% éš¨æ©Ÿå€‰ä½åç§» |
| å‹•æ…‹é¢¨éšª | æ ¹æ“šå¸³æˆ¶æ·¨å€¼å‹•æ…‹è¨ˆç®— (éå›ºå®š lot) |

### 7.4 å‹•æ…‹é…ç½®

åˆè¦åƒæ•¸é€é YAML é…ç½®æ–‡ä»¶å‹•æ…‹æŒ‡å®šï¼Œæ¯å€‹å¸³è™Ÿå¯ç¨ç«‹è¨­å®š:

```yaml
# e8_trial_5k.yaml â€” ä¿å®ˆé…ç½®
compliance:
  daily_drawdown_limit: 0.02
  max_drawdown_limit: 0.04
  profit_target: 0.06
  best_day_limit: 120

# e8_signature_50k.yaml â€” æ¨™æº–é…ç½®
compliance:
  daily_drawdown_limit: 0.05
  max_drawdown_limit: 0.08
  profit_target: 0.08
  best_day_limit: 1600
```

---

## 8. æ¸¬è©¦è¦†è“‹ç‡

### 8.1 æ¸¬è©¦çµ±è¨ˆ

| æ¸¬è©¦æ–‡ä»¶ | æ¸¬è©¦æ•¸ | è¡Œæ•¸ | è¦†è“‹æ¨¡çµ„ |
|----------|:---:|:---:|------|
| `test_alert_service.py` | 49 | 625 | AlertService (15 ç¨®é€šçŸ¥) |
| `test_scheduler.py` | 46 | 1,405 | Scheduler (7 å¾ªç’° + shutdown + recovery) |
| `test_decision_store.py` | 45 | 613 | DecisionStore (CRUD + ç‹€æ…‹æ©Ÿ) |
| `test_prop_firm_guard.py` | 26 | 486 | PropFirmGuard (5 é …åˆè¦æª¢æŸ¥) |
| `test_engine.py` | 24 | 705 | ExecutionEngine (åˆè¦é–˜é–€ + ä¸‹å–®) |
| `test_instrument_registry.py` | 24 | 292 | InstrumentRegistry (ç¬¦è™Ÿæ˜ å°„) |
| `test_integration.py` | 13 | 565 | è·¨æ¨¡çµ„æ•´åˆæ¸¬è©¦ |
| `test_schemas.py` | 13 | 204 | TradeIntent / DecisionRecord |
| **åˆè¨ˆ** | **240** | **5,037** | â€” |

### 8.2 æ¸¬è©¦ç‰¹æ€§

- **å…¨éƒ¨é€šé**: `240 passed in ~8-10s`
- **Async æ¸¬è©¦**: ä½¿ç”¨ `pytest-asyncio` (auto mode)ï¼Œç„¡éœ€æ‰‹å‹•æ¨™è¨˜
- **HTTP Mock**: ä½¿ç”¨ `respx` mock `httpx.AsyncClient` èª¿ç”¨
- **å¤–éƒ¨ä¾è³´éš”é›¢**: æ‰€æœ‰å¤–éƒ¨ API (MatchTrader, Telegram, Scanner) å‡å·² mock
- **å®‰å…¨é—œéµæ¸¬è©¦**: PropFirmGuard æœ‰ 26 å€‹æ¸¬è©¦ï¼Œæ¶µè“‹æ‰€æœ‰é‚Šç•Œæ¢ä»¶

### 8.3 æœªè¦†è“‹çš„æ¨¡çµ„

ä»¥ä¸‹æ¨¡çµ„ç›®å‰ç„¡å°ˆå±¬å–®å…ƒæ¸¬è©¦:

| æ¨¡çµ„ | åŸå›  |
|------|------|
| `fx_data_fetcher.py` | ä¾è³´å¤–éƒ¨ API (iTick/TraderMade)ï¼Œéœ€ integration test |
| `fx_duckdb_store.py` | DuckDB æ“ä½œï¼Œéœ€è¦ fixture setup |
| `matchtrader_client.py` | é€é `test_engine.py` é–“æ¥æ¸¬è©¦ (mock) |
| `scanner_bridge.py` | ä¾è³´å¤–éƒ¨ subprocessï¼Œåœ¨ `test_integration.py` ä¸­è¦†è“‹ |
| `agent_bridge.py` | é€é `test_integration.py` é–“æ¥æ¸¬è©¦ (MockTradingGraph) |

---

## 9. å·®è·åˆ†æ â€” è·é›¢å…¨è‡ªå‹•åŒ–é‚„æœ‰å¤šé 

### 9.1 å…¨è‡ªå‹•åŒ–å®šç¾©

**ç›®æ¨™ç‹€æ…‹**: ç³»çµ±èƒ½åœ¨ç„¡äººå€¼å®ˆä¸‹ 24/7 é‹è¡Œï¼Œè‡ªå‹•å®Œæˆä»¥ä¸‹å¾ªç’°:

```
æ•¸æ“šç²å– â†’ ä¿¡è™Ÿæƒæ â†’ LLM æ±ºç­– â†’ åˆè¦æª¢æŸ¥ â†’ ä¸‹å–® â†’ æŒå€‰ç›£æ§ â†’ æ­¢ææ­¢ç›ˆ â†’ æ—¥çµå ±å‘Š
```

### 9.2 å·®è·æ¸…å–®

| # | å·®è· | å½±éŸ¿ | å„ªå…ˆç´š | é ä¼°å·¥æ™‚ |
|:---:|------|------|:---:|:---:|
| G1 | Scanner ç«¯åˆ°ç«¯æœªé©—è­‰ | ä¿¡è™Ÿéˆæ–·è£‚ â€” ç„¡æ³•ç”¢ç”ŸçœŸå¯¦ TradeIntent | ğŸ”´ Critical | 3-5 å¤© |
| G2 | TradingAgents æœª FX é©é… | âœ… å·²è§£æ±º (å¼•å…¥ market_type èˆ‡ macro_analyst) | â€” | å®Œæˆ |
| G3 | Alpha158 å› å­ FX æœ‰æ•ˆæ€§æœªé©—è­‰ | Scanner ä¿¡è™Ÿå¯èƒ½ç„¡æ•ˆ (FX å¾®è§€çµæ§‹ä¸åŒ) | ğŸŸ¡ High | 3-5 å¤© |
| G4 | MockTradingGraph æ›¿ä»£çœŸå¯¦ LLM | âœ… å·²è§£æ±º (AgentBridge å·²æˆåŠŸé€£ç·šçœŸå¯¦ Graph) | â€” | å®Œæˆ |
| G5 | qlib_rd_agent FX ç®¡é“æœªå»ºç«‹ | ç„¡æ³•é€²è¡Œ FX å› å­æŒ–æ˜ (å½±éŸ¿é•·æœŸä¿¡è™Ÿå“è³ª) | ğŸŸ¢ Medium | 3-5 å¤© |
| G6 | ç„¡ Backtest æ¡†æ¶ | ç„¡æ³•è©•ä¼°ç­–ç•¥æ­·å²è¡¨ç¾ | ğŸŸ¡ High | 5-7 å¤© |
| G7 | ç„¡å¯¦ç›¤å£“åŠ›æ¸¬è©¦ | æœªé©—è­‰é«˜æ³¢å‹•å ´æ™¯ (NFP, FOMC) ä¸‹çš„ç³»çµ±è¡Œç‚º | ğŸŸ¡ High | 2-3 å¤© |
| G8 | æ—¥èªŒèˆ‡ç›£æ§æŒä¹…åŒ– | TradeJournal ç‚ºæœ¬åœ° JSONLï¼Œç„¡é ç«¯å‚™ä»½ | ğŸŸ¢ Medium | 1-2 å¤© |

### 9.3 å®Œæˆåº¦è©•ä¼°

```
åŸºç¤è¨­æ–½ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%  â† Phase 0, 2A-2C, 3+ å…¨éƒ¨å®Œæˆ
ä¿¡è™Ÿç”Ÿæˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  40%  â† Scanner æ©‹æ¥å®Œæˆï¼Œç«¯åˆ°ç«¯æœªé©—è­‰
LLM æ±ºç­– â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%  â† æ©‹æ¥èˆ‡ FX é©é…å·²å®Œæˆï¼Œæ”¯æ´çœŸå¯¦æ±ºç­–
äº¤æ˜“åŸ·è¡Œ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%  â† MatchTrader å®Œæ•´æµç¨‹å·²é©—è­‰
åˆè¦å¼•æ“ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%  â† 5 é …æª¢æŸ¥ + å®‰å…¨è£•åº¦
ç›£æ§é€šçŸ¥ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%  â† 15 ç¨®é€šçŸ¥ + Bot å‘½ä»¤
å› å­ç ”ç©¶ â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  10%  â† æ©‹æ¥å®Œæˆï¼ŒFX ç®¡é“æœªå»º
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ•´é«”é€²åº¦ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘  85%
```

---

## 10. æ›´æ–°è·¯ç·šåœ–

### 10.1 Phase 1b: ä¿¡è™Ÿé©—è­‰èˆ‡ç«¯åˆ°ç«¯æ•´åˆ (é ä¼° 1-2 é€±)

```
å„ªå…ˆç´š: ğŸ”´ CRITICAL â€” é€™æ˜¯å”¯ä¸€é˜»æ–·è‡ªå‹•äº¤æ˜“çš„æ–·é»

â”œâ”€â”€ 1. Scanner â†’ Pilot ç«¯åˆ°ç«¯æ•¸æ“šæµé©—è­‰
â”‚   â”œâ”€â”€ åœ¨ Trial å¸³è™Ÿä¸Šé‹è¡Œå®Œæ•´ scanner pipeline
â”‚   â”œâ”€â”€ é©—è­‰ signals.csv è¼¸å‡ºæ ¼å¼èˆ‡ ScannerBridge è§£æ
â”‚   â””â”€â”€ ç¢ºèª TradeIntent æ­£ç¢ºå¯«å…¥ DecisionStore
â”‚
â”œâ”€â”€ 2. Alpha158 å› å­ FX æœ‰æ•ˆæ€§é©—è­‰
â”‚   â”œâ”€â”€ é‹è¡Œ FX æ­·å²æ•¸æ“šå›æ¸¬
â”‚   â”œâ”€â”€ è©•ä¼° IC/IR (Information Coefficient / Information Ratio)
â”‚   â””â”€â”€ è‹¥ IC < 0.02: é–‹ç™¼ FX å°ˆç”¨å› å­ (Carry, Momentum, MR)
â”‚
â””â”€â”€ 3. E8 Trial å¸³è™Ÿç¬¬ä¸€ç­†æ¨¡æ“¬äº¤æ˜“
    â”œâ”€â”€ ç«¯åˆ°ç«¯: æ•¸æ“š â†’ ä¿¡è™Ÿ â†’ (Mock) æ±ºç­– â†’ åˆè¦ â†’ ä¸‹å–®
    â””â”€â”€ é©—è­‰å®Œæ•´äº¤æ˜“ç”Ÿå‘½é€±æœŸ (é–‹å€‰ â†’ ç›£æ§ â†’ å¹³å€‰)
```

### 10.2 Phase 2 (èˆŠ): TradingAgents FX é©é… (âœ… å·²å®Œæˆ)

```
ç‹€æ…‹: âœ… å·²å®Œæˆ (2026-02-20) â€” çœŸå¯¦ LLM æ±ºç­–ç®¡é“å·²æ‰“é€š

â”œâ”€â”€ 1. åˆ†æå¸«èª¿æ•´
â”‚   â”œâ”€â”€ ç§»é™¤ fundamentals_analyst (FX ç„¡è²¡å ±)
â”‚   â”œâ”€â”€ ç§»é™¤ options_analyst (FX ä¸é©ç”¨)
â”‚   â””â”€â”€ æ–°å¢ macro_analyst (å¤®è¡Œåˆ©ç‡ã€éè¾²ã€PMI)
â”‚
â”œâ”€â”€ 2. LLM Prompt FX é©é…
â”‚   â”œâ”€â”€ ä¿®æ”¹ news_analyst prompt (FX æ–°èæº)
â”‚   â”œâ”€â”€ ä¿®æ”¹ social_analyst prompt (äº¤æ˜“å“¡æƒ…ç·’)
â”‚   â””â”€â”€ ä¿®æ”¹ market_analyst prompt (æŠ€è¡“åˆ†æ)
â”‚
â””â”€â”€ 3. ç«¯åˆ°ç«¯ LLM æ±ºç­–é©—è­‰
    â”œâ”€â”€ å° 5 å€‹ FX å“ç¨®é€²è¡Œå¯¦éš› LLM æ±ºç­–
    â””â”€â”€ è©•ä¼°æ±ºç­–å“è³ª (BUY/SELL åˆç†æ€§)
```

### 10.3 Phase 3 (èˆŠ): å› å­é€²åŒ– (é ä¼° 1 é€±)

```
å„ªå…ˆç´š: ğŸŸ¢ MEDIUM â€” æå‡é•·æœŸä¿¡è™Ÿå“è³ª

â”œâ”€â”€ 1. qlib_rd_agent FX æ•¸æ“šç®¡é“
â”‚   â”œâ”€â”€ é…ç½® FX æ­·å²æ•¸æ“šè¼¸å…¥
â”‚   â””â”€â”€ è¨­å®šå› å­æœç´¢ç©ºé–“ (FX ç›¸é—œ)
â”‚
â”œâ”€â”€ 2. é¦–æ¬¡ FX å› å­æŒ–æ˜ (é€±æœ«é‹è¡Œ)
â”‚
â””â”€â”€ 3. å°‡ç™¼ç¾çš„å› å­æ•´åˆåˆ° Scanner pipeline
```

### 10.4 Phase 4: å¯¦ç›¤ (é ä¼° 2-4 é€±æº–å‚™æœŸ)

```
å„ªå…ˆç´š: ğŸŸ¡ HIGH â€” æœ€çµ‚ç›®æ¨™

â”œâ”€â”€ 1. Trial å¸³è™Ÿé€£çºŒ 2 é€±ç©©å®šé‹è¡Œ
â”‚   â”œâ”€â”€ ç„¡å´©æ½°ã€ç„¡ç•°å¸¸äº¤æ˜“
â”‚   â””â”€â”€ åˆè¦å¼•æ“é›¶èª¤å ±
â”‚
â”œâ”€â”€ 2. å£“åŠ›æ¸¬è©¦
â”‚   â”œâ”€â”€ é«˜æ³¢å‹•å ´æ™¯æ¨¡æ“¬ (NFP, FOMC)
â”‚   â””â”€â”€ API ä¸­æ–·æ¢å¾©æ¸¬è©¦
â”‚
â”œâ”€â”€ 3. è³¼è²· E8 Signature $50k å¸³è™Ÿ
â”‚
â””â”€â”€ 4. å¯¦ç›¤ä¸Šç·š
    â”œâ”€â”€ åˆ‡æ›é…ç½®: e8_trial_5k.yaml â†’ e8_signature_50k.yaml
    â””â”€â”€ å•Ÿå‹• Scheduler æ¨¡å¼: --scheduler
```

### 10.5 æ™‚é–“ç·šä¼°ç®—

```
ç¾åœ¨ (2026-02-16)
  â”‚
  â”œâ”€ Phase 1b: ä¿¡è™Ÿé©—è­‰ â”€â”€â”€â”€â”€â”€â”€â”€ 2-3 é€± â”€â”€â”€ ~2026-03-07
  â”‚
  â”œâ”€ Phase 2: TradingAgents FX â”€ 1-2 é€± â”€â”€â”€ ~2026-03-21
  â”‚  (å¯èˆ‡ Phase 1b éƒ¨åˆ†ä¸¦è¡Œ)
  â”‚
  â”œâ”€ Phase 3: å› å­é€²åŒ– â”€â”€â”€â”€â”€â”€â”€â”€ 1 é€± â”€â”€â”€â”€â”€ ~2026-03-28
  â”‚
  â”œâ”€ Trial ç©©å®šé‹è¡ŒæœŸ â”€â”€â”€â”€â”€â”€â”€â”€ 2-4 é€± â”€â”€â”€ ~2026-04-25
  â”‚
  â””â”€ Phase 4: å¯¦ç›¤ä¸Šç·š â”€â”€â”€â”€â”€â”€â”€â”€ â”€â”€â”€â”€â”€â”€â”€â”€ ~2026-05 ç›®æ¨™
```

---

## 11. é¢¨éšªèˆ‡ç·©è§£

| # | é¢¨éšª | åš´é‡åº¦ | æ©Ÿç‡ | ç·©è§£æ–¹æ¡ˆ |
|:---:|------|:---:|:---:|------|
| R1 | **Alpha158 å› å­åœ¨ FX ä¸Šå¤±æ•ˆ** | ğŸ”´ é«˜ | ä¸­ | Phase 1b é©—è­‰ IC/IRã€‚è‹¥å¤±æ•ˆï¼Œé–‹ç™¼ FX å°ˆç”¨å› å­ (Carry, Momentum, Mean Reversion) |
| R2 | **TradingAgents FX é©é…å›°é›£** | ğŸ”´ é«˜ | ä½ | ä¸ä¿®æ”¹ TradingAgents å…§éƒ¨ã€‚åƒ…é€é config + prompt èª¿æ•´ã€‚è‹¥ä¸å¯è¡Œï¼Œæ›¿æ›ç‚ºè‡ªå®šç¾© LLM æ±ºç­–æ¨¡çµ„ |
| R3 | **MatchTrader API ä¸ç©©å®š** | ğŸŸ¡ ä¸­ | ä½ | å·²å¯¦ä½œé‡è©¦ + é™é€Ÿã€‚å‚™é¸æ–¹æ¡ˆ: MetaAPI |
| R4 | **è¢« E8 åˆ¤å®šç‚ºã€Œé‡è¤‡ç­–ç•¥ã€** | ğŸ”´ é«˜ | ä½ | PropFirmGuard å·²å…§å»ºéš¨æ©Ÿå»¶é² + å€‰ä½åç§» + å‹•æ…‹é¢¨éšª |
| R5 | **FX Volume æ•¸æ“šå“è³ªå·®** | ğŸŸ¡ ä¸­ | é«˜ | TraderMade è¿”å› Volume=1ã€‚å·²åˆ‡æ›è‡³ iTick (tick volume)ã€‚è‹¥ä»ä¸è¶³ï¼Œåƒ…ä½¿ç”¨åƒ¹æ ¼å› å­ |
| R6 | **LLM API æˆæœ¬éé«˜** | ğŸŸ¡ ä¸­ | ä¸­ | ä½¿ç”¨å…è²»/ä½æˆæœ¬ LLM (glm-4.7)ã€‚æ¯æ—¥æœ€å¤š 5 å“ç¨® Ã— 1 æ±ºç­– = 5 æ¬¡èª¿ç”¨ |
| R7 | **ç³»çµ±å´©æ½°å°è‡´æŒå€‰å¤±æ§** | ğŸ”´ é«˜ | ä½ | Startup Recovery æ¢å¾© stale claimsã€‚EquityMonitor ç¨ç«‹ç›£æ§ã€‚Telegram å³æ™‚è­¦å ± |
| R8 | **å–®æ©Ÿå–®é€²ç¨‹ç“¶é ¸** | ğŸŸ¢ ä½ | ä½ | ç•¶å‰ 5 å“ç¨®è¶³å¤ ã€‚è‹¥éœ€æ“´å±•ï¼Œasyncio å¯è‡ªç„¶æ©«å‘æ“´å±•è‡³å¤šå“ç¨® |

---

## 12. åƒè€ƒè³‡æ–™

### å…§éƒ¨æ–‡æª”
- **æ¶æ§‹è—åœ–**: `docs/Hybrid_EA_LLM_Architecture.md` (747 è¡Œ)
- **æ¶æ§‹è—åœ– (ä¸­æ–‡)**: `docs/Hybrid_EA_LLM_Architecture_zh-TW.md`
- **é‹ç‡Ÿæ‰‹å†Š**: `docs/ops_runbook.md`
- **E8 åˆ†æ**: `docs/E8_Markets_Analysis_2026.md`
- **é–‹ç™¼è¦ç¯„**: `AGENTS.md` (155 è¡Œ)

### å¤–éƒ¨é …ç›®
- **qlib_market_scanner**: `../../qlib_market_scanner/` â€” Qlib FX ä¿¡è™Ÿæƒæå™¨
- **TradingAgents**: `../../TradingAgents/` â€” å¤šæ™ºèƒ½é«” LLM æ±ºç­–å¼•æ“
- **qlib_rd_agent**: `../../qlib_rd_agent/` â€” å› å­æŒ–æ˜ç ”ç©¶å·¥å…·

### å¹³å°
- **MatchTrader API**: `https://mtr.e8markets.com` (Broker ID: 2)
- **Telegram Bot**: `@tty_prop_firm_bot` (Chat ID: 6385786935)
- **å¸³è™Ÿ**: 950552 (Trial $5,000)

### é…ç½®
- `config/default.yaml` â€” ç³»çµ±é è¨­
- `config/e8_trial_5k.yaml` â€” Trial å¸³æˆ¶ (ç•¶å‰ä½¿ç”¨)
- `config/e8_signature_50k.yaml` â€” Signature å¸³æˆ¶ (æœªä¾†å¯¦ç›¤)

### æŠ€è¡“æ£§
- Python 3.10, asyncio
- Pydantic v2 (é…ç½® + æ•¸æ“šæ¨¡å‹)
- SQLite WAL (DecisionStore)
- httpx (async HTTP)
- DuckDB (FX æ•¸æ“šç·©å­˜)
- loguru (æ—¥èªŒ)
- ruff (Lint + Format)
- pytest + respx (æ¸¬è©¦)
